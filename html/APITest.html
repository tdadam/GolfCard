<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
    <title>Simple markers</title>
    <style>
        html, body {
            height: 100%;
            margin: 0;
            padding: 0;
        }

        #map {
            height: 50%;
            width: 50%;

        }
    </style>
</head>
<body>

<div id="map"></div>
<div id="demo"></div>

<script>
    var clientID = "64f8ab8b-326b-4b4c-9d5f-10b4abf65d9c";
    var accessToken, model;
        var redirectURI = document.URL;
        var authUrl = "https://api.swingbyswing.com/v2/oauth/authorize?scope=read&redirect_uri=" + encodeURI(redirectURI) + "&response_type=token&client_id=" + clientID;
        accessToken = getUrlVars().access_token;
        if (accessToken == null) {
            location.replace(authUrl);
        }
        else {
            accessToken = accessToken.replace("\n", "");
            getCourse(47500);
        }

    function getUrlVars() {
        var vars = {};
        var parts = window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,
        function (m, key, value) {
            vars[key] = value;
        });
        return vars;
    }

//    https://api.swingbyswing.com/v2/courses/18300?includes=practice_area,nearby_courses,recent_media,recent_comments,recent_rounds,best_rounds,current_rounds,course_stats_month,course_stats_year&access_token={access_token}
//https://api.swingbyswing.com/v2/courses/" + courseID + "?includes=practice_area&access_token=" + accessToken
    function Map() {
        this.showLocation();
        {

        }
    }
    function getCourse(courseID) {
        var xhttp = new XMLHttpRequest();
        var aRequest = "https://api.swingbyswing.com/v2/courses/" + courseID + "?includes=practice_area&access_token=" + accessToken;
        xhttp.onreadystatechange = function() {
            if (xhttp.readyState == 4 && xhttp.status == 200) {
                model = JSON.parse(xhttp.responseText);
                var location = model.course.location;
                initMap(location);
            }
        };
        xhttp.open("GET", aRequest, true);
        xhttp.send();
    }

    function initMap(myLatLng) {
        var map = new google.maps.Map(document.getElementById('map'), {
            zoom: 15,
            center: myLatLng,
            mapTypeId: google.maps.MapTypeId.SATELLITE,
            scrollwheel: false
        });

        var marker = new google.maps.Marker({
            position: myLatLng,
            map: map
        });
    }

</script>
<script async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyC7O4oZYHZ-CabyadZSFAr8gIAI1f5F_UY&signed_in=true&callback=initMap"></script>
</body>
</html>